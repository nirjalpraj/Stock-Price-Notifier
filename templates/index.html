<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
        
          <h3 class="navbar-brand" style="margin-left: 60px;">Stock Price Notifier </h3>  
        
      </nav>
      <span class="border-top"></span>
      
      <div class="container" style="margin-top: 20px;">
        <div class="row">
          <div class="col-lg"></div>
          <div class="col-sm">
            <form onsubmit="return mySubmit(event)">
                <div class="form-group">
                  <label for="email_address">Email address</label>
                  <input type="email" class="form-control" id="email_address" name="email_address" aria-describedby="emailHelp" placeholder="Enter email">
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="number" class="form-control" id="phone" name="phone" aria-describedby="phoneNumber" placeholder="Enter your phone number">
                  </div>

                <div class="form-group">
                  <label for="ticker">Stock Ticker</label>
                  <input type="text" class="form-control" id="ticker" name="ticker" placeholder="Stock Ticker">
                </div>

                <div class="form-group">
                    <label for="threshold">Price Threshold</label>
                    <input type="text" class="form-control" id="threshold" name="threshold" placeholder="Price Threshold">
                </div>

                  <div class="form-group">
                    <label >Frequency</label>
                    <div class="row">
                        <div class="col-sm">
                            <label for="day">Day</label>
                            <input type="Number" class="form-control" id="day" name="day" placeholder="Day">
                        </div>

                        <div class="col-sm">
                            <label for="Hour">Hour</label>
                            <input type="number" class="form-control" id="hour" name="hour" placeholder="Hour">
                        </div>

                        <div class="col-sm">
                            <label for="minute">Minute</label>
                            <input type="Number" class="form-control" id="minute" name="minute" placeholder="Minute">
                        </div>
                    </div>
                  </div>

                <!-- <div class="form-group form-check">
                  <input type="checkbox" class="form-check-input" id="">
                  <label class="form-check-label" for="email_notification">Email Notification</label>
                </div> -->
                <label for="notification_type">Notification Type: </label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="notification_type" id="email" value="email" checked>
                  <label class="form-check-label" for="email">
                    Email
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="notification_type" id="text" value="text">
                  <label class="form-check-label" for="text">
                    Text message
                  </label>
                </div>

                <button type="submit" class="btn btn-primary" style="margin-top: 20px;">Submit</button>
              </form>
          </div>
          <div class="col-lg"></div>
        </div>
      </div>

      <script>
        function mySubmit(e){
          console.log("Test");
          console.log("e",e);
          e.preventDefault();
          try{
            fetch("/",{
              method: "POST",
              body: new FormData(e.target),
            }).then((res) => {
              e.target.reset();
              alert("You will be emailed in the given email in the interval you have set");
            }).catch((err) =>{
              console.log(err);
              alert('something went wrong')
            })
          } catch(e){
            throw new Error(e.message);
          }
          return false;
        }
      </script>

</body>
</html>